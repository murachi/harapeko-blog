[author: murachi]

# 用語集

<h2 id="core">コアデータ関連</h2>

<h3 id="core-octave">オクターブ</h3>

* 英名: octave

以下、音楽用語中辞典 (音楽之友社) より。

1. 完全 8度音程。2つの音のあいだで、低い方の音と高い方の音との振動数の比が 1 : 2 であるような音程。きわめてよく協和し、同音であるような印象をあたえる。この 2つの音はおなじ音名をもつ。<オクターヴで奏する> といえば 1オクターヴへだてて高・低でおなじ旋律を奏すること。
1. ハ音を起点とし全音階のすべての音をふくむ 1オクターヴずつの範囲内の音の高さの区切りをいう。(低い方から <下(した) 2点オクターヴ>、<下 1点オクターヴ>、<ひらがなオクターヴ>、<かたかなオクターヴ>、<1点オクターヴ>、<2点オクターヴ>、<3点オクターヴ>。基準イ音および中央ハ音は <1点オクターヴ> に属する。)

otoco では、オクターブを表す特別なオブジェクトは用意しない。音階は全て起点を 0 とする半音階単位のオフセットを指す整数値にて表す。

MML コンパイラでは、上記の 2 の意味で用いるオクターブの階層を表す数値を指定する方法 ("O" ステートメント)、およびオクターブを前後に移動する方法 ("<", ">" 各ステートメント) を設ける。

また、音律の設定ではオクターブ中での各音階の基音に対する音程差を指定できるものとする。このとき、起点となる基音は必ずしもハ音とは限らない。

<h3 id="core-temperament-mode">音律</h3>

* 英名: intonation mode
  * temperament だと平均律や中全音律といった、破綻の少ない音律を得る方法のみを指すらしい。純正律の訳語 (=just intonation) より、 intonation の語を採用する。

以下、[音律 - Wikipedia](http:://ja.wikipedia.org/wiki/%E9%9F%B3%E5%BE%8B) より。

音律（おんりつ）とは、一組のピッチクラスを与える周波数の関係の規定である。周波数の関係は比で表現されることが多いが、この比が数値として把握されることが必要条件ではない。これは「あるピッチがやや高め」というような規定の仕方もあり得ることを意味している。実践あるいは理論が依拠する音組織によって必要なピッチクラスは異なり、また音律の根拠も多様なので、これに応じて複数の音律が存在する。

一方で、英語におけるtemperamentという語は、音階中の音程を純正音程から調整して、より破綻の少ない音律を得る方式を指す。したがって 純正律やピタゴラス音律はtemperamentとは呼ばれない。

<h3 id="core-composition">楽曲</h3>

* 英名: composition

otoco が管理するコアデータの最大単位。楽曲 1つ分のすべての情報がこのオブジェクトに収まっているものとする。

持ちうる情報は以下のとおりとなる。

* ヘッダ情報 ...タイトルやパート名、歌詞などのメタ情報、音色の情報等。
* 演奏情報
* 楽譜
* シナリオ

<h3 id="core-note-off">ノートオフ</h3>

* 英名: note off

鳴っている音を止める動作のこと。またはその為の MIDI 命令。

<h3 id="core-note-on">ノートオン</h3>

* 英名: note on

音を鳴らし始める動作のこと。またはその為の MIDI 命令。

<h2 id="sequencer">シーケンサ関連</h2>

<h2 id="mixer">ミキサー関連</h2>

<h2 id="notation">楽譜関連</h2>

<h2 id="mml">MML 関連</h2>

<h3 id="mml-gate-time">ゲートタイム</h3>

* 英名: gate time

音符の実際の演奏における、ノートオンからノートオフまでの長さのこと。

<h3 id="mml-control-change">コントロールチェンジ</h3>

* 英名: control change

MIDI において、ステータスバイト **Bn** により指定される、各種コントロールへのステータス値の変更のこと (但し、チャンネルモードメッセージは除く)。通常、MIDI コントローラや MIDI キーボードのつまみやスライダーを操作することによって変更されるような状態を扱う。

コントロールチェンジの MIDI におけるデータ列の書式は以下のようになる (16進値)。

```
Bn cc vv
```

* **n** ... トラック番号
* **cc** ... コントロール番号 (7bits) : アクセスするコントロール機能を表す。
* **vv** ... コントロール値 (7bits) : コントロール機能に指定する値。

コントロール番号の機能分布は以下のように大別される<small> (MIDI 1.0 規格に基づくが、すべての MIDI 音源モジュールにおいてこれらの機能を保証するものではない。) </small>。

||0||バンクセレクト (MSB)||
||1~31||2バイトデータの操作子のMSB||
||32||バンクセレクト (LSB)||
||33~63||1~31操作子のLSB||
||64~95||1バイトデータの操作子||
||96~101||インクリメント/デクリメントとパラメーター番号||
||102~119||未定義の1バイト操作子||

コントロール番号の機能対応表を以下に示す。

||コントロール番号||||コントロール機能||
||10進表記||16進表記||||
||0||00h||バンクセレクト (MSB)||
||1||01h||モジュレーション||
||2||02h||ブレスコントロール||
||3||03h||(予約)||
||4||04h||フットコントロール||
||5||05h||ポルタメントタイム||
||6||06h||データエントリー (MSB)||
||7||07h||チャンネルボリューム (旧メインボリューム)||
||8||08h||バランス||
||9||09h||(予約)||
||10||0Ah||パン (パンポット)||
||11||0Bh||エクスプレッション||
||12||0Ch||エフェクトコントロール1||
||13||0Dh||エフェクトコントロール2||
||14~15||0Eh~0Fh||(予約)||
||16~19||10h-13h||汎用コントローラ1~4||
||20~31||14h-1Fh||(予約)||
||32||20h||バンクセレクト (LSB)||
||33~63||21h~3Fh||コントロール番号1~31対応のLSB||
||64||40h||ホールド1 (ダンパーペダル、サスティン)||
||65||41h||ポルタメントon/off||
||66||42h||ソステヌート||
||67||43h||ソフトペダル||
||68||44h||レガートフットスイッチ||
||69||45h||ホールド2||
||70||46h||サウンド・コントロール1 (デフォルト: サウンドバリエーション)||
||71||47h||サウンド・コントロール2 (デフォルト: ティンバー / ハーモニックインテンシティ (レゾナンス) )||
||72||48h||サウンド・コントロール3 (デフォルト: リリースタイム)||
||73||49h||サウンド・コントロール4 (デフォルト: アタックタイム)||
||74||4Ah||サウンド・コントロール5 (デフォルト: ブライトネス (カットオフ周波数) )||
||75~79||4Bh~4Fh||サウンド・コントロール6~10 (デフォルト: サウンドバリエーション)||
||80~83||50h~53h||汎用コントローラ5~8||
||84||54h||ポルタメント||
||85~90||55h~5Ah||(予約)||
||91||5Bh||エフェクト1デプス (外部エフェクト<small> (ほとんどの場合、リバーブが割り当てられている。) </small>)||
||92||5Ch||エフェクト2デプス (トレモロ)||
||93||5Dh||エフェクト3デプス (コーラス)||
||94||5Eh||エフェクト4デプス (セレステ<small> (セレステは本来コーラス系のエフェクトのことだが、実際には SC-88以降の GS 音源でディレイ、XG 音源でマルチエフェクトが割り当てられている。) </small>)||
||95||5Fh||エフェクト5デプス (フェイザー)||
||96||60h||データ・インクリメント||
||97||61h||データ・デクリメント||
||98||62h||NPRN (LSB)||
||99||63h||NPRN (MSB)||
||100||64h||RPN (LSB)||
||101||65h||RPN (MSB)||
||102~119||66h~77h||(予約)||

[[FootNote]]

<h3 id="otoco-pattern">パターン</h3>

* 英名: text pattern

MML コンパイラにおける制御命令の一種で、複数のテキスト行をパターン名に定義し、制御命令 [#insert](wiki::外部仕様/MML仕様/制御命令一覧#insert-insert) によって展開することができる。

マクロとは異なり、演奏命令以外の情報を含めたい場合にはパターンが有効である。

<h3 id="otoco-macro">マクロ</h3>

* 英名: MML macro

MML コンパイラにおける演奏命令の一種で、複数の演奏命令をマクロ名に定義し、マクロ命令によって展開することができる。

マクロは引数を取ってそれらを展開する内容の中に埋め込むことはできるが、それ以上のより複雑な操作を行いたい場合には、関数を使用する必要がある。

なお、マクロにはその内容を複数行のブロックリテラルで定義することは可能だが、あくまで演奏命令であり、その内容はすべて演奏命令として扱われる点に注意すべきである。演奏命令以外の情報 ── トラック指示行、制御行 ── を含めたい場合は、マクロではなくパターンを使用すること。

<h3 id="otoco-locater">ロケータ</h3>

* 英名: locater

MML コンパイラにおいて、全パートにおける演奏命令記述の基準となる演奏位置 (小節数および拍数) のことをいう。ロケータが制御命令 [#measure](wiki::外部仕様/MML仕様/制御命令一覧#measure-measure) によって進められると、カウントされた演奏位置に達していないパートは、以後、**演奏命令が発生した段階で**、ロケータが指す位置まで強制的に進められてから演奏命令を実行する。

なお、制御命令 [#locate](wiki::外部仕様/MML仕様/制御命令一覧#measure-locate) を用いると、ロケータを巻き戻すことができるが、既に演奏命令が書き込まれ、演奏位置が十分に進んでいるパートを、この命令を用いて巻き戻すことはできない。


<h2 id="software">ソフトウェア技術用語</h2>

<h3 id="software-charactor-const-word">ワード構成文字</h3>

半角英数字、およびアンダースコア **_** のこと。

Perl の正規表現におけるアトム **\w** によってヒットするような文字<small> (use utf8 を指定しない場合の動作に限る。) </small>。より分かりやすい正規表現に直すと、**[a-zA-Z0-9_]** となる。

[[FootNote]]


<h2 id="other">その他</h2>
